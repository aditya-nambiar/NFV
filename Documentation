Modules created:
1. UE/eNodeB  ->	Radio Access Network(RAN)
2. MME        ->	Mobility Management Entity
3. HSS        ->	Home Subscriber Server		
4. SGW        ->	Serving Gateway
5. PGW        ->  PacketDataNetwork(PDN) Gateway

Mapping of programs to modules:
ran.cpp = UE/eNodeB
mme.cpp = MME
hss.cpp = HSS
sgw.cpp = SGW
pgw.cpp = PGW

User Equipment Registration Process:

1. Process of Authentication
	
Step-1:	
RAN(UE) sends request to MME with its IMSI, MSISDN and type(1).

Sent by UE to MME
type = 1
IMSI
MSISDN

Step-2:	
MME checks the type. If it is 1, it will forward the entire message to the HSS.

Step-3:	
HSS collects the data(autn, rand) for this UE(IMSI, MSISDN) based on the timestamp the request is received and calculates the RES based on the key value for this UE. 

Step-4:	
HSS sends the collection of data(autn, rand, res) to MME.

Step-5:	
MME saves the res value and forwards the data(autn, rand) to RAN.

Step-6:	
RAN calculates the res value based on the same key that HSS has and sends this res value to MME.

Step-7:	
MME now verifies this res value with the res value obtained from the HSS. If they match. it sends OK reply. Otherwise, it does not reply anything.

Step-8:	
If UE gets OK reply, then the authentication of UE is successful, otherwise not.

2. Setup of Tunnels

Step-1:	
When the authentication match was successful at the MME, MME sends a CREATE SESSION request to a chosen SGW. In this message, MME includes its own GTP-C TEID(chosen by the MME) and UE details(for creating a bearer). Typically MME should send this message on GTP-C tunnel, but since it does not know about SGW GTP-C TEID, it uses a '0' in GTP-C field.(But for convenience, MME sends this without any GTP headers and just as a plain message).

Step-2:
On receiving this request, the SGW adds the UE to the bearer table it has. It then chooses one TEID for GTP-C(for control plane data) and one TEID for GTP-U(for data plane data). It then forwards this request to PGW.


Step-3:	
PGW cho
Step-1:	
Step-1:	
Step-1:	
Step-1:	
Step-1:	
Step-1:	
Step-1:	
Step-1:	
Step-1:	
Step-1:	
Step-1:	
Step-1:	
Step-1:	
Step-1:	
Step-1:	
Step-1:	
Step-1:	
Step-1:	
Step-1:	

User Equipment Uplink Data transfer:



User Equipment Downlink Data transfer:



